{"filter":false,"title":"NewCard.jsx","tooltip":"/components/NewCard.jsx","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":66,"column":41},"action":"remove","lines":["import React from 'react';","import uuid from 'node-uuid';","import {Container} from 'flux/utils';","import CardForm from './CardForm.jsx';","import CardStore from '../flux/stores/CardStore';","import DraftStore from '../flux/stores/DraftStore';","import CardActionCreators from '../flux/actions/CardActionCreators';","","class NewCard extends React.Component {","    ","     static getStores() {","\t    return [DraftStore];","\t  }","\t","\t  static calculateState(prevState) {","\t    return {","\t      draft: DraftStore.getState()","\t    };","\t  }","\t  ","    componentDidMount(){","        setTimeout(()=>CardActionCreators.createDraft(), 0)","    }","","    handleChange(field, value) {","        console.log(\"ENtered handlechange of New\");","        CardActionCreators.updateDraft(field,value);","        console.log(\"value is :\"+value);","      // this.setState({[field]: value});","       ","    }","    ","    handleSubmit(evt) {","        console.log(\"Entered submit of new\");","\t\tevt.preventDefault();","\t\t//To add a new card -Assignment 4","\t\tconsole.log(\"state.draft is\"+this.state.draft);","\t\tCardActionCreators.addCard(this.state.draft);","\t\t","\t\t//No need of below statement now","\t\t//this.props.cardCallbacks.add(this.state); ","\t\tthis.context.router.push('/');","    }","    ","    handleClose() {","        this.context.router.push('/');","    }","    ","    render() {","        return (","            <CardForm draftCard={this.state.draft}","                        buttonLabel=\"Create Card\"","                        handleChange={this.handleChange.bind(this)}","                        handleSubmit={this.handleSubmit.bind(this)}","                        handleClose={this.handleClose.bind(this)}","            />","        )","    }","}","","// Have to include this statement","// http://stackoverflow.com/questions/36330617/this-props-history-is-deprecated-react-router","NewCard.contextTypes = {","\trouter: React.PropTypes.object.isRequired","};","","export default Container.create(NewCard);"],"id":1577},{"start":{"row":0,"column":0},"end":{"row":56,"column":41},"action":"insert","lines":["import React from 'react';","import {Container} from 'flux/utils';","","import DraftStore from '../flux/stores/DraftStore';","import CardActionCreators from '../flux/actions/CardActionCreators';","import CardForm from './CardForm.jsx';","","class NewCard extends React.Component {","\t  static getStores() {","\t    return [DraftStore];","\t  }","\t","\t  static calculateState(prevState) {","\t    return {","\t      draft: DraftStore.getState(),","\t    };","\t  }","","    componentDidMount() {","        setTimeout(() => {","            CardActionCreators.createDraft();","        }, 0)    ","    }","    ","    handleChange(field, value) {","        CardActionCreators.updateDraft(field, value);","    }","    ","    handleSubmit(evt) {","\t\tevt.preventDefault();","\t\tCardActionCreators.addCard(this.state.draft);","\t\tthis.context.router.push('/');","    }","    ","    handleClose() {","        this.context.router.push('/');","    }","    ","    render() {","        return (","            <CardForm draftCard={this.state.draft}","                        buttonLabel=\"Create Card\"","                        handleChange={this.handleChange.bind(this)}","                        handleSubmit={this.handleSubmit.bind(this)}","                        handleClose={this.handleClose.bind(this)}","            />","        )","    }","}","","// Have to include this statement","// http://stackoverflow.com/questions/36330617/this-props-history-is-deprecated-react-router","NewCard.contextTypes = {","\trouter: React.PropTypes.object.isRequired","};","","export default Container.create(NewCard);"]}]]},"ace":{"folds":[],"scrolltop":359,"scrollleft":0,"selection":{"start":{"row":56,"column":41},"end":{"row":56,"column":41},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1471723983872,"hash":"0f3a2a0ec128544d3322635d24133f918def8e28"}